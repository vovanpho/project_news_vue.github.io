{"remainingRequest":"/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/node_modules/babel-loader/lib/index.js!/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/src/components/CompSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/src/components/CompSearch.vue","mtime":1605172640888},{"path":"/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDb21wU2VhcmNoRm9jdXMgZnJvbSAiLi9Db21wU2VhcmNoRm9jdXMudnVlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDb21wU2VhcmNoIiwKICBjb21wb25lbnRzOiB7CiAgICBDb21wU2VhcmNoRm9jdXM6IENvbXBTZWFyY2hGb2N1cwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHF1ZXJ5OiAnJywKICAgICAgc2VhcmNoUmVzdWx0VmlzaWJsZTogZmFsc2UsCiAgICAgIHBvc3RzOiBudWxsLAogICAgICBzZWFyY2hSZXN1bHRzOiBbXSwKICAgICAgaGlnaGxpZ2h0SW5kZXg6IDAsCiAgICAgIG9wdGlvbnM6IHsKICAgICAgICBzaG91bGRTb3J0OiB0cnVlLAogICAgICAgIGluY2x1ZGVNYXRjaGVzOiB0cnVlLAogICAgICAgIHRocmVzaG9sZDogMC41LAogICAgICAgIGxvY2F0aW9uOiAwLAogICAgICAgIGRpc3RhbmNlOiA1MDAsCiAgICAgICAgbWF4UGF0dGVybkxlbmd0aDogMzIsCiAgICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoOiAxLAogICAgICAgIGtleXM6IFsndGl0bGUnXQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgYXhpb3MuZ2V0KCJodHRwOi8vbmV3c2FwaS5vcmcvdjIvZXZlcnl0aGluZz9xPWFwcGxlJmZyb209MjAyMC0xMS0wMiZ0bz0yMDIwLTExLTAyJnNvcnRCeT1wb3B1bGFyaXR5JmFwaUtleT01MDJiODhkNWE1Zjc0OGMxYTRhZjhkZGJiMzAzNzRlOCIpLnRoZW4oZnVuY3Rpb24gKFJlc3BvbnNlKSB7CiAgICAgIF90aGlzLnBvc3RzID0gUmVzcG9uc2UuZGF0YS5hcnRpY2xlczsKICAgIH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IoKSwgdGhpcy5lcnJvcmVkID0gdHJ1ZSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5xdWVyeSA9ICcnOwogICAgICB0aGlzLmhpZ2hsaWdodEluZGV4ID0gMDsKICAgIH0sCiAgICBzb2Z0UmVzZXQ6IGZ1bmN0aW9uIHNvZnRSZXNldCgpIHsKICAgICAgdGhpcy5zZWFyY2hSZXN1bHRWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5oaWdobGlnaHRJbmRleCA9IDA7CiAgICB9LAogICAgZm9jdXNTZWFyY2g6IGZ1bmN0aW9uIGZvY3VzU2VhcmNoKGUpIHsKICAgICAgaWYgKGUua2V5ID09PSAnLycpIHsKICAgICAgICB0aGlzLiRyZWZzLnNlYXJjaC5mb2N1cygpOwogICAgICB9CiAgICB9LAogICAgcGVyZm9ybVNlYXJjaDogZnVuY3Rpb24gcGVyZm9ybVNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRzZWFyY2godGhpcy5xdWVyeSwgdGhpcy5wb3N0cywgdGhpcy5vcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7CiAgICAgICAgX3RoaXMyLnNlYXJjaFJlc3VsdHMgPSByZXN1bHRzOwogICAgICB9KTsKICAgIH0sCiAgICBoaWdobGlnaHRQcmV2OiBmdW5jdGlvbiBoaWdobGlnaHRQcmV2KCkgewogICAgICBpZiAodGhpcy5oaWdobGlnaHRJbmRleCA+IDApIHsKICAgICAgICB0aGlzLmhpZ2hsaWdodEluZGV4ID0gdGhpcy5oaWdobGlnaHRJbmRleCAtIDE7CiAgICAgICAgdGhpcy5zY3JvbGxJbnRvVmlldygpOwogICAgICB9CiAgICB9LAogICAgaGlnaGxpZ2h0TmV4dDogZnVuY3Rpb24gaGlnaGxpZ2h0TmV4dCgpIHsKICAgICAgaWYgKHRoaXMuaGlnaGxpZ2h0SW5kZXggPCB0aGlzLnNlYXJjaFJlc3VsdHMubGVuZ3RoIC0gMSkgewogICAgICAgIHRoaXMuaGlnaGxpZ2h0SW5kZXggPSB0aGlzLmhpZ2hsaWdodEluZGV4ICsgMTsKICAgICAgICB0aGlzLnNjcm9sbEludG9WaWV3KCk7CiAgICAgIH0KICAgIH0sCiAgICBzY3JvbGxJbnRvVmlldzogZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoKSB7CiAgICAgIHRoaXMuJHJlZnMucmVzdWx0cy5jaGlsZHJlblt0aGlzLmhpZ2hsaWdodEluZGV4XS5zY3JvbGxJbnRvVmlldyh7CiAgICAgICAgYmxvY2s6ICduZWFyZXN0JwogICAgICB9KTsKICAgIH0sCiAgICBnb3RvbGluazogZnVuY3Rpb24gZ290b2xpbmsoKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaFJlc3VsdHNbdGhpcy5oaWdobGlnaHRJbmRleF0pIHsKICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB0aGlzLnNlYXJjaFJlc3VsdHNbdGhpcy5oaWdobGlnaHRJbmRleF07CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["CompSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,OAAA,eAAA,MAAA,uBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,eAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,mBAAA,EAAA,KAFA;AAGA,MAAA,KAAA,EAAA,IAHA;AAIA,MAAA,aAAA,EAAA,EAJA;AAKA,MAAA,cAAA,EAAA,CALA;AAMA,MAAA,OAAA,EAAA;AACA,QAAA,UAAA,EAAA,IADA;AAEA,QAAA,cAAA,EAAA,IAFA;AAGA,QAAA,SAAA,EAAA,GAHA;AAIA,QAAA,QAAA,EAAA,CAJA;AAKA,QAAA,QAAA,EAAA,GALA;AAMA,QAAA,gBAAA,EAAA,EANA;AAOA,QAAA,kBAAA,EAAA,CAPA;AAQA,QAAA,IAAA,EAAA,CAAA,OAAA;AARA;AANA,KAAA;AAkBA,GAxBA;AAyBA,EAAA,OAzBA,qBAyBA;AAAA;;AACA,IAAA,KAAA,CAAA,GAAA,CAAA,kIAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AAAA,MAAA,KAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,QAAA;AAAA,KADA,EAEA,KAFA,CAEA,OAAA,CAAA,KAAA,EAFA,EAEA,KAAA,OAAA,GAAA,IAFA,EAGA,OAHA,CAGA;AAAA,aAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AAAA,KAHA;AAIA,GA9BA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,KAAA,GAAA,EAAA;AACA,WAAA,cAAA,GAAA,CAAA;AACA,KAJA;AAKA,IAAA,SALA,uBAKA;AACA,WAAA,mBAAA,GAAA,IAAA;AACA,WAAA,cAAA,GAAA,CAAA;AACA,KARA;AAUA,IAAA,WAVA,uBAUA,CAVA,EAUA;AACA,UAAA,CAAA,CAAA,GAAA,KAAA,GAAA,EAAA;AACA,aAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA;AACA,KAdA;AAeA,IAAA,aAfA,2BAeA;AAAA;;AACA,WAAA,OAAA,CAAA,KAAA,KAAA,EAAA,KAAA,KAAA,EAAA,KAAA,OAAA,EACA,IADA,CACA,UAAA,OAAA,EAAA;AACA,QAAA,MAAA,CAAA,aAAA,GAAA,OAAA;AACA,OAHA;AAIA,KApBA;AAqBA,IAAA,aArBA,2BAqBA;AACA,UAAA,KAAA,cAAA,GAAA,CAAA,EAAA;AACA,aAAA,cAAA,GAAA,KAAA,cAAA,GAAA,CAAA;AACA,aAAA,cAAA;AACA;AACA,KA1BA;AA2BA,IAAA,aA3BA,2BA2BA;AACA,UAAA,KAAA,cAAA,GAAA,KAAA,aAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,cAAA,GAAA,KAAA,cAAA,GAAA,CAAA;AACA,aAAA,cAAA;AACA;AACA,KAhCA;AAiCA,IAAA,cAjCA,4BAiCA;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,QAAA,CAAA,KAAA,cAAA,EAAA,cAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA;AACA,KAnCA;AAoCA,IAAA,QApCA,sBAoCA;AACA,UAAA,KAAA,aAAA,CAAA,KAAA,cAAA,CAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,KAAA,aAAA,CAAA,KAAA,cAAA,CAAA;AACA;AAEA;AAzCA;AA/BA,CAAA","sourcesContent":["<template>\n    <div class=\"permanent\">\n        <form class=\"formInline mlauto\">\n            <comp-search-focus @keyup=\"focusSearch\"/>\n            <div class=\"mdform my0\">\n                <input class=\"formControl\" type=\"text\" placeholder=\"Search\" v-model=\"query\" \n                @blur=\"searchResultVisible=false\"\n                @focus=\"searchResultVisible=true\"\n                @keydown.esc=\"searchResultVisible=false\"\n                @input=\"softReset\"\n                ref=\"search\"\n                @keyup=\"performSearch\"\n                @keydown.up.prevent=\"highlightPrev\"\n                @keydown.down.prevent=\"highlightNext\"\n                @keydown.enter=\"gotolink\"\n                />\n            </div>\n            <button href=\"#\" class=\"btn btnmd\" type=\"submit\"><fontAwesomeIcon :icon=\"['fas', 'search']\" /></button>\n            <div class=\"closeSearch\" v-if=\"query.length>0\" @click=\"reset\"><fontAwesomeIcon :icon=\"['fas', 'times']\"/></div>\n        </form>\n        <div class=\"viewResult\" v-if=\"query.length>0 && searchResultVisible\">\n            <ul class=\"flexCol\" ref=\"results\">\n                <li v-for=\"(post, index) in searchResults\" \n                :key=\"index\"  \n                @mousedown.prevent ='searchResultVisible=true'\n                :class=\"{ 'bgcolor': index === highlightIndex }\"\n                >\n                    <router-link :to=\"{name:'ViewPage', params:{id: index}}\">\n                        <div>{{post.item.title}}</div> \n                    </router-link>\n                </li>\n            </ul>\n            <div v-if=\"searchResults.length==0\" ><p>No resutl for \"<strong>{{query}}</strong>\"</p></div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport CompSearchFocus from \"./CompSearchFocus.vue\"\nimport axios from \"axios\"\nexport default {\n    name: \"CompSearch\",\n    components:{\n        CompSearchFocus\n    },\n    data(){\n        return{\n            query: '',\n            searchResultVisible:false,\n            posts:null,\n            searchResults:[],\n            highlightIndex:0,\n            options:{\n                shouldSort:true,\n                includeMatches:true,\n                threshold:0.5,\n                location:0,\n                distance:500,\n                maxPatternLength:32,\n                minMatchCharLength:1,\n                keys:['title']\n            }\n           \n        }\n    },\n    created() {\n    axios.get(\"http://newsapi.org/v2/everything?q=apple&from=2020-11-02&to=2020-11-02&sortBy=popularity&apiKey=502b88d5a5f748c1a4af8ddbb30374e8\")\n         .then(Response => {this.posts=Response.data.articles})\n         .catch(console.error(), (this.errored = true))\n         .finally(() => (this.loading = false));\n    },\n    methods: {\n        reset(){\n            this.query=''\n            this.highlightIndex=0\n        },\n        softReset(){\n            this.searchResultVisible=true\n            this.highlightIndex=0\n        },\n       \n        focusSearch(e){\n            if(e.key==='/'){\n                this.$refs.search.focus()\n            }\n        },\n        performSearch(){\n            this.$search(this.query, this.posts, this.options)\n            .then(results => {\n                this.searchResults = results\n            })\n        },\n        highlightPrev(){\n            if(this.highlightIndex>0){\n                this.highlightIndex=this.highlightIndex-1\n                this.scrollIntoView()\n            }\n        },\n        highlightNext(){\n            if(this.highlightIndex<this.searchResults.length-1){\n                this.highlightIndex=this.highlightIndex+1\n                this.scrollIntoView()\n            }\n        },\n        scrollIntoView(){\n            this.$refs.results.children[this.highlightIndex].scrollIntoView({block:'nearest'})\n        },\n        gotolink(){\n            if (this.searchResults[this.highlightIndex]) {\n                window.location=this.searchResults[this.highlightIndex]\n            }\n            \n        }\n    }\n}\n</script>\n\n<style>\n/* https://www.youtube.com/watch?v=6i8D8j5Gkk8     */\n    .permanent{\n        position: relative;\n    }\n\n    .permanent .formInline{\n        border: 1px soild;\n        position: relative;\n    } \n        \n        .formControl{\n            width: 100%;\n            box-sizing: border-box;\n            height: 2rem;\n            padding: 0 2rem;\n        }\n        .btn.btnmd{\n            position: absolute;\n            top: 0;\n            padding: 6px;\n        }\n        \n        .closeSearch{\n            position: absolute;\n            top: 0px;\n            right: 0;\n            padding: 6px;\n        }\n    .permanent .viewResult{\n        max-height: 10rem;\n        z-index: 20;\n        background-color: rgb(252, 252, 252);\n        overflow: hidden;\n        overflow-y:auto;\n        position:absolute;\n        right: 0;\n    }\n    .flexCol{\n        border: 1px solid;\n    }\n    li.bgcolor{\n            background-color: rgb(167, 187, 243);\n    }\n</style>"],"sourceRoot":"src/components"}]}
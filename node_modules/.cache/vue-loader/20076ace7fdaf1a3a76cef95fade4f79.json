{"remainingRequest":"/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/src/components/CompSearch.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/src/components/CompSearch.vue","mtime":1605172640888},{"path":"/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/po/Documents/KITS/vue/project/ResfullAPI/newspaper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi8qIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9Nmk4RDhqNUdrazggICAgICovCiAgICAucGVybWFuZW50ewogICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIH0KCiAgICAucGVybWFuZW50IC5mb3JtSW5saW5lewogICAgICAgIGJvcmRlcjogMXB4IHNvaWxkOwogICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIH0gCiAgICAgICAgCiAgICAgICAgLmZvcm1Db250cm9sewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgaGVpZ2h0OiAycmVtOwogICAgICAgICAgICBwYWRkaW5nOiAwIDJyZW07CiAgICAgICAgfQogICAgICAgIC5idG4uYnRubWR7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICBwYWRkaW5nOiA2cHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5jbG9zZVNlYXJjaHsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IDBweDsKICAgICAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgICAgIHBhZGRpbmc6IDZweDsKICAgICAgICB9CiAgICAucGVybWFuZW50IC52aWV3UmVzdWx0ewogICAgICAgIG1heC1oZWlnaHQ6IDEwcmVtOwogICAgICAgIHotaW5kZXg6IDIwOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTIsIDI1MiwgMjUyKTsKICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIG92ZXJmbG93LXk6YXV0bzsKICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTsKICAgICAgICByaWdodDogMDsKICAgIH0KICAgIC5mbGV4Q29sewogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkOwogICAgfQogICAgbGkuYmdjb2xvcnsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE2NywgMTg3LCAyNDMpOwogICAgfQo="},{"version":3,"sources":["CompSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CompSearch.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"permanent\">\n        <form class=\"formInline mlauto\">\n            <comp-search-focus @keyup=\"focusSearch\"/>\n            <div class=\"mdform my0\">\n                <input class=\"formControl\" type=\"text\" placeholder=\"Search\" v-model=\"query\" \n                @blur=\"searchResultVisible=false\"\n                @focus=\"searchResultVisible=true\"\n                @keydown.esc=\"searchResultVisible=false\"\n                @input=\"softReset\"\n                ref=\"search\"\n                @keyup=\"performSearch\"\n                @keydown.up.prevent=\"highlightPrev\"\n                @keydown.down.prevent=\"highlightNext\"\n                @keydown.enter=\"gotolink\"\n                />\n            </div>\n            <button href=\"#\" class=\"btn btnmd\" type=\"submit\"><fontAwesomeIcon :icon=\"['fas', 'search']\" /></button>\n            <div class=\"closeSearch\" v-if=\"query.length>0\" @click=\"reset\"><fontAwesomeIcon :icon=\"['fas', 'times']\"/></div>\n        </form>\n        <div class=\"viewResult\" v-if=\"query.length>0 && searchResultVisible\">\n            <ul class=\"flexCol\" ref=\"results\">\n                <li v-for=\"(post, index) in searchResults\" \n                :key=\"index\"  \n                @mousedown.prevent ='searchResultVisible=true'\n                :class=\"{ 'bgcolor': index === highlightIndex }\"\n                >\n                    <router-link :to=\"{name:'ViewPage', params:{id: index}}\">\n                        <div>{{post.item.title}}</div> \n                    </router-link>\n                </li>\n            </ul>\n            <div v-if=\"searchResults.length==0\" ><p>No resutl for \"<strong>{{query}}</strong>\"</p></div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport CompSearchFocus from \"./CompSearchFocus.vue\"\nimport axios from \"axios\"\nexport default {\n    name: \"CompSearch\",\n    components:{\n        CompSearchFocus\n    },\n    data(){\n        return{\n            query: '',\n            searchResultVisible:false,\n            posts:null,\n            searchResults:[],\n            highlightIndex:0,\n            options:{\n                shouldSort:true,\n                includeMatches:true,\n                threshold:0.5,\n                location:0,\n                distance:500,\n                maxPatternLength:32,\n                minMatchCharLength:1,\n                keys:['title']\n            }\n           \n        }\n    },\n    created() {\n    axios.get(\"http://newsapi.org/v2/everything?q=apple&from=2020-11-02&to=2020-11-02&sortBy=popularity&apiKey=502b88d5a5f748c1a4af8ddbb30374e8\")\n         .then(Response => {this.posts=Response.data.articles})\n         .catch(console.error(), (this.errored = true))\n         .finally(() => (this.loading = false));\n    },\n    methods: {\n        reset(){\n            this.query=''\n            this.highlightIndex=0\n        },\n        softReset(){\n            this.searchResultVisible=true\n            this.highlightIndex=0\n        },\n       \n        focusSearch(e){\n            if(e.key==='/'){\n                this.$refs.search.focus()\n            }\n        },\n        performSearch(){\n            this.$search(this.query, this.posts, this.options)\n            .then(results => {\n                this.searchResults = results\n            })\n        },\n        highlightPrev(){\n            if(this.highlightIndex>0){\n                this.highlightIndex=this.highlightIndex-1\n                this.scrollIntoView()\n            }\n        },\n        highlightNext(){\n            if(this.highlightIndex<this.searchResults.length-1){\n                this.highlightIndex=this.highlightIndex+1\n                this.scrollIntoView()\n            }\n        },\n        scrollIntoView(){\n            this.$refs.results.children[this.highlightIndex].scrollIntoView({block:'nearest'})\n        },\n        gotolink(){\n            if (this.searchResults[this.highlightIndex]) {\n                window.location=this.searchResults[this.highlightIndex]\n            }\n            \n        }\n    }\n}\n</script>\n\n<style>\n/* https://www.youtube.com/watch?v=6i8D8j5Gkk8     */\n    .permanent{\n        position: relative;\n    }\n\n    .permanent .formInline{\n        border: 1px soild;\n        position: relative;\n    } \n        \n        .formControl{\n            width: 100%;\n            box-sizing: border-box;\n            height: 2rem;\n            padding: 0 2rem;\n        }\n        .btn.btnmd{\n            position: absolute;\n            top: 0;\n            padding: 6px;\n        }\n        \n        .closeSearch{\n            position: absolute;\n            top: 0px;\n            right: 0;\n            padding: 6px;\n        }\n    .permanent .viewResult{\n        max-height: 10rem;\n        z-index: 20;\n        background-color: rgb(252, 252, 252);\n        overflow: hidden;\n        overflow-y:auto;\n        position:absolute;\n        right: 0;\n    }\n    .flexCol{\n        border: 1px solid;\n    }\n    li.bgcolor{\n            background-color: rgb(167, 187, 243);\n    }\n</style>"]}]}